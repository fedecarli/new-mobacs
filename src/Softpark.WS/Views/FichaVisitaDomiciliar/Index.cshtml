@model IEnumerable<Softpark.Models.FichaVisitaDomiciliarChild>

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Ficha de Visita Domiciliar</h1>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="table-responsive">
            <table id="listaVisitaDomiciliar" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Data</th>
                        <th>Profissional</th>
                        @*<th>Digitador</th>
                        <th>Status</th>*@
                        <th style="width: 30px;" class="nao-ordenar text-center"></th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>



<form name="editvisitaDomiciliar" id="editvisitaDomiciliar" action="visitaDomiciliar/Edit" method="get">
    <input type="hidden" name="edit" value="1" />
    <input type="hidden" name="visitaDomiciliar" id="visitaDomiciliar" />
</form>

@section scripts {
    <script>
        $(function () {
            $('#listaVisitaDomiciliar').dataTable({
                "sPaginationType": "full_numbers",
                "aLengthMenu": [[2, 5, 10, 25, 50, -1], ["2", "5", "10", "25", "50", "Todos"]],
                "bProcessing": true,
                "bServerSide": true,
                "sAjaxSource": "@Url.Content("/odata/FichaVisitaDomiciliarChild")/?$expand=FichaVisitaDomiciliarMaster,FichaVisitaDomiciliarMaster/UnicaLotacaoTransport",
                //"aoColumnDefs": [{
                //    'bSortable': false,
                //    'aTargets': ["nao-ordenar"]
                //},
                //{
                //    "sClass": "text-center",
                //    "aTargets": [0, 1]
                //},
                //{
                //    "sClass": "nomeCap",
                //    "aTargets": [2, 3]
                //}],
                "order": [[0, "desc"]],
                "aoColumns": [
                    { "sTitle": "ID", "mData": "childId", "sType": "numeric" },
                    {
                        "sTitle": "Data",
                        "mData": "FichaVisitaDomiciliarMaster.UnicaLotacaoTransport.dataAtendimento",
                        "oData": "FichaVisitaDomiciliarMaster/UnicaLotacaoTransport/dataAtendimento",
                        "sType": "date"
                    },
                    {
                        "sTitle": "Profissional",
                        "mData": "FichaVisitaDomiciliarMaster.UnicaLotacaoTransport.profissionalCNS",
                        "oData": "FichaVisitaDomiciliarMaster/UnicaLotacaoTransport/profissionalCNS",
                        "sType": "string"
                    },
                    //{ "mData": "Digitador" },
                    //{ "mData": "Status" }
                ],
                "fnServerData": fnServerOData,
                "iODataVersion": 3,
                "bUseODataViaJSONP": false,
                "language": {
                    "sEmptyTable": "<center>Nenhum registro encontrado</center>",
                    "sInfo": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
                    "sInfoEmpty": "",
                    "sInfoFiltered": "",
                    "sInfoPostFix": "",
                    "sInfoThousands": ".",
                    "sLengthMenu": "_MENU_ resultados por página",
                    "sLoadingRecords": "Carregando...",
                    "sProcessing": "<img src=\"img/ajax-loader-2.gif\" />",
                    "sZeroRecords": "<center>Nenhum registro encontrado</center>",
                    "sSearch": "Pesquisar ",
                    "oPaginate": {
                        "sNext": "Próximo",
                        "sPrevious": "Anterior",
                        "sFirst": "Primeiro",
                        "sLast": "Último"
                    },
                    "oAria": {
                        "sSortAscending": ": Ordenar colunas de forma ascendente",
                        "sSortDescending": ": Ordenar colunas de forma descendente"
                    },
                },
            });
        });
    </script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/sistema/visitaDomiciliar/main.js")"></script>
}

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.turno)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.numProntuario)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cnsCidadao)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.dtNascimento)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.sexo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.statusVisitaCompartilhadaOutroProfissional)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.desfecho)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.microarea)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.stForaArea)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.tipoDeImovel)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.pesoAcompanhamentoNutricional)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.alturaAcompanhamentoNutricional)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FichaVisitaDomiciliarMaster.uuidFicha)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.turno)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.numProntuario)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.cnsCidadao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.dtNascimento)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.sexo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.statusVisitaCompartilhadaOutroProfissional)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.desfecho)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.microarea)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.stForaArea)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.tipoDeImovel)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.pesoAcompanhamentoNutricional)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.alturaAcompanhamentoNutricional)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FichaVisitaDomiciliarMaster.uuidFicha)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.childId }) |
                @Html.ActionLink("Details", "Details", new { id = item.childId }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.childId })
            </td>
        </tr>
    }

</table>
