(function(){var r,u,n,i,t;r=function(){function n(){var n;this.history=[];this.history.push(window.location.href);this.current=0;n=this;window.onpopstate=function(t){return n.pop(t)}}return n.prototype.navigate=function(n){var t;if(!n||n===void 0||n===null)throw new Error("Invalid Url Navigation");n=n.split("?")[0];t=this.history[this.current];t!==n&&(window.history.pushState({previous:{index:this.current,url:t},url:n},"",n),this.current=this.history.push(n)-1)},n.prototype.pop=function(){return window.location.reload()},n}();window.renderHtmlCell=function(n){return n};window.routes=new r;window.beginRequest=function(n){return criaLoading("page-wrapper"),n.complete(function(){return destroiLoading("page-wrapper")})};t=[];n=[];window.drawCallback=function(){var i,n,r;for($(".btn-create").remove(),n=0,r=draws.length;n<r;n++)i=draws[n],$(i.el).append(i.content);return t.length>0?$("#updateZon").removeClass("disabled").removeAttr("disabled"):$("#updateZon").addClass("disabled").attr("disabled",!0)};jQuery.ajaxPrefilter(function(n,t,i){return n.url==="ajax/default.asp"&&(n.url=t.url=""+appPath+"../"+n.url),n.url==="ajax/login/verificaSessao.asp"||n.url==="../_inc/ajax/login/verificaSessao.asp"?(n.url=t.url=""+appPath+"../"+n.url,i.done(function(n){if(!n.sessao)return modalAlerta("Sessão Expirada","Sua sessão expirou!"),setTimeout(function(){return window.location.assign(""+appPath+"../login.asp")},5e3)})):void 0});$(function(){var t,n;n=null;t=!1;window.ddlChange=function(){var i,r,u,f,e;this.value!==""&&(e=$(this).text(),r=e.split(" / "),u=r[0].trim(),i=r[1].split(" - ")[0].trim(),f=r[1].trim(),$(this).text(u).data({setor:{cnes:i,nome:f}}),t=!0,this.selected&&!n?(n=i,$("[name=unidadeCred]").val(i)):n!==i&&$(this).attr("disabled",!0),$("[name=unidadeCred]").trigger("change"),t=!1)};$("select#idMicroAreaUnidade option, select#ItemVinc option").each(ddlChange);$(document).on("change","[name=unidadeCred]",function(){var i;return i=$(this).val(),i===n||t||$("select#idMicroAreaUnidade, select#ItemVinc").val(""),n=i,$("select#idMicroAreaUnidade option, select#ItemVinc option").each(function(){var i,t;if(t=$(this).data("setor"),t)return i=t.cnes,n===i?$(this).removeAttr("disabled"):$(this).attr("disabled",!0)})})});i=[];window.criaLoading=function(n){var t,r;0!==$("#"+n).length&&(r=0>i.indexOf(n),r&&i.push(n),t='<div class="div-carregando" id="div-carregando-'+n+'">',t+='<div class="div-carregando-fundo"><\/div>',t+='<div class="div-carregando-conteudo">',t+='<img src="'+appPath+'../img/ajax-loader-2.gif" /><br>',t+="<span><b>Carregando...<\/b><\/span>",t+="<\/div>",t+="<\/div>",$("#div-carregando-"+n).length===0&&$("body").append(t),$("#div-carregando-"+n).css({display:"block",width:$("#"+n).css("width"),height:$("#"+n).css("height"),top:$("#"+n).offset().top,left:$("#"+n).offset().left}))};window.destroiLoading=function(n){var t,r;return t=$.extend([],[],i),r=t.splice(t.indexOf(n)),r.shift(),t=[].concat(t,r),i=t,$("#div-carregando-"+n).remove()};$(window).on("resize",function(){var n,t,u,r;for(r=[],t=0,u=i.length;t<u;t++)n=i[t],r.push($("#div-carregando-"+n).css({width:0,height:0,top:$("#"+n).offset().top,left:$("#"+n).offset().left}).css({width:$("#"+n).css("width"),height:$("#"+n).css("height"),top:$("#"+n).offset().top,left:$("#"+n).offset().left}));return r});u=function(){function n(n,t){this.MicroArea=n;this.Codigo=t}return n}();$(document).on("click","#updateZon",function(i){return i.preventDefault(),i.stopPropagation(),criaLoading("page-wrapper"),$("#updateZon").addClass("disabled").attr("disabled",!0),$.post(window.location.href+"/Edit",{zoneamentos:t}).always(function(){return destroiLoading("page-wrapper")}).done(function(i){return i===!0?(t=[],n=[],oTable.fnDraw()):console.log(arguments,0),t.length>0?$("#updateZon").removeClass("disabled").removeAttr("disabled"):$("#updateZon").addClass("disabled").attr("disabled",!0)}).error(function(){return console.log(arguments,1)})});$(document).on("change",".microArea",function(i){var r,f;return i.preventDefault(),i.stopPropagation(),r=+this.id,f=$(this).val(),f?0<=n.indexOf(r)?t[n.indexOf(r)].MicroArea=f:(n.push(r),t.push(new u(f,r))):0<=n.indexOf(r)&&(delete t[n.indexOf(r)],delete n[n.indexOf(r)],t=t.filter(function(n){return!!n}),n=n.filter(function(n){return!isNaN(n)})),t.length>0?$("#updateZon").removeClass("disabled").removeAttr("disabled"):$("#updateZon").addClass("disabled").attr("disabled",!0)});window.renderMaSelection=function(i,r,u){var f,e;return f=u.Codigo,e=$($("#tplMaSelection").html().replace("{codigo}",f)),setTimeout(function(){var r;return 0<=n.indexOf(f)&&(r=t[n.indexOf(f)],i=r.MicroArea),i?$("#"+f).val(i):void 0},100),e[0].outerHTML}}).call(this);